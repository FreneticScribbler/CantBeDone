<!DOCTYPE html>

<html lang="en"> 
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<link rel="stylesheet" href="style.css" media="screen,projection">

		<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>

		<script type="text/javascript" src="js-cookie.js"></script>

		<link href="https://fonts.googleapis.com/css?family=Roboto:300,700" rel="stylesheet">

		<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
		<link rel="manifest" href="/favicons/manifest.json">
		<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#4169E1">
		<meta name="theme-color" content="#212121">
		
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-116372619-2"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());

		  gtag('config', 'UA-116372619-2');
		</script>
		
	</head>

	<body>

		<main>
			<div class="full-div flex flex-center">
				<div class="valign">
					<div class="row" id="magic-container">
						<div class="center" id="the-excuse">.</div>
						
						<h1 class="center" id="title">
							<span id="title-0">Can't</span>
							<span id="title-1">Be</span>
							<span id="title-2">Done</span>
							<span id="title-3">!</span>
						</h1>
						
						<div class="center" style="transform: rotate(-7deg); color: #780303; font-size: 3em;">#wearen'tcompetent</div>
					</div>	
				</div>
			</div>
		</main>

		<footer>
			<div class="footer flex flex-center valign">
				<span>Actually doing a job?</span>&nbsp;
				<a href="https://wherethefuckisourkit.com/">Wondering where all the kit is?</a>
			</div>
		</footer>

	</body>

	<script type="text/javascript">
		let animate_time = 600

		let title_animate_time = 700
		let title_animate_delay = 130

		let container = $('#magic-container')
		let excuse_container = $('#the-excuse')

		let excuses=['Jobs', 'Decent web design', 'Health and Safety', 'Sleep', 'Asset numbers', 'Rigs', 'Risk assessments', 'Committee', 'Bluetooth DI Boxes...could...', 'Keys in the ignition', 'Keys out of the ignition', 'Portland Lifts', 'Windows', 'Air Conditioning', 'Crew', 'MICs', 'Lighting Designs', 'Small Generators', 'Simple sound setup', 'Fun', 'Socials', 'Anything', 'Grant', 'Invoicing', 'Week One Finale', 'Summer Party', 'New Members', 'Recruitment', 'Retaining members', 'Training', 'Answering the phone', 'Degree', 'Answering info@ emails', 'Renewing CH38 Licence', 'Fixing the van', 'Planning jobs', 'Prep', 'Avoiding gateposts', 'Checking the blindspot', 'Indicating', 'Speed limit?', 'Stash', 'Crew Cards', 'Fixing lanterns', 'PAT testing', 'G3 Mic Clips', 'Collecting Damo hires', 'Sharpies', 'Drivers', 'Technician Status', 'Training', 'Sound Supervisors', 'Rigging Department', 'Power Supervisors except Snow', 'Correct food orders', 'Maintaining a 2-1', 'Remembering where you left the van', 'Topping up the van', 'Binning old food', 'Hygiene', 'Walking more than ten feet', 'Returning the keys', 'Having a social life', 'Inside voices', 'Noise restrictions', 'Approving expenses', 'Paperwork']

		$(document).ready(function(){
			var done_title_animation = Cookies.get('done_title_animation')

			if (done_title_animation) {
				animateReasons()
			} else {
				Cookies.set('done_title_animation', true, { expires: 1 })
				animateTitle();

				setTimeout(function() {
					animateReasons();
				}, title_animate_delay * $('#title span').length + title_animate_time / 2);

			}
		});

		function animateTitle() {
			let sectionContainer = '#title-'

			$('#title span').each(function(i) {
				$(sectionContainer + i).css('opacity', 0);
			});

			$('#title span').each(function(i) {
				$(sectionContainer + i).css('opacity', 0).delay(i * title_animate_delay).animate({
					opacity: 1
				}, title_animate_time);
			});	
		};

		function animateReasons() {
			var rand_excuse = excuses[Math.floor(Math.random() * excuses.length)];
			
			excuse_container.html(rand_excuse).animate({
				opacity: 0.8,
			}, animate_time);
		};

	</script>
</html>
